<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Sajid Test Payment</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{
      margin:0;
      padding:40px;
      background:linear-gradient(180deg,#4b2bd6,#3bb7ff);
      font-family:sans-serif;
      color:white;
      text-align:center;
    }
    button{
      padding:16px 22px;
      background:#ffcc00;
      border:0;
      border-radius:10px;
      font-size:18px;
      font-weight:bold;
      cursor:pointer;
    }
  </style>
</head>
<body>

  <h2>‚≠ê Test Payment ‚Äî Sajid</h2>
  <p>Ye page sirf Pi Browser me open hoga.<br>Test ke liye 1œÄ payment try karein.</p>

  <button id="payBtn">Pay 1œÄ (Test)</button>

  <p id="debug" style="margin-top:20px;opacity:0.8;font-size:14px;"></p>

<script>
  // üîç Check Pi API available?
  const debug = document.getElementById("debug");
  if(window.Pi){
    debug.innerText = "Pi API Found ‚úÖ ‚Äî Ready for payment";
  } else {
    debug.innerText = "Pi API NOT FOUND ‚ùå ‚Äî Please open inside Pi Browser";
  }

  // üí≥ Pay button
  document.getElementById("payBtn").addEventListener("click", async () => {
    if(!window.Pi){
      alert("‚ùå Please open this page inside Pi Browser!");
      return;
    }

    try {
      const payment = await Pi.createPayment({
        amount: 1,
        memo: "Test Pay from Sajid",
        metadata: { purpose: "step10" }
      }, {
        onReadyForServerApproval: function(paymentId){
          console.log("READY:", paymentId);
        },
        onReadyForServerCompletion: function(paymentId){
          console.log("COMPLETE:", paymentId);
        },
        onCancel: function(){
          console.log("Payment cancelled");
        },
        onError: function(error){
          console.log("ERROR:", error);
        }
      });

      alert("Payment success! üéâ");
    } catch(err){
      console.error(err);
      alert("Payment failed ‚ùå");
    }
  });
</script>

</body>
</html>
